<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dopamin İnfüzyon Hesaplayıcı</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <style>
    body {
      padding: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2 class="text-center mb-4">Dopamin İnfüzyon Hesaplayıcı</h2>
    <form id="dopamineForm">
      <div class="form-group">
        <label for="weight">Hastanın Kilosu (kg):</label>
        <input type="number" class="form-control" id="weight" required>
      </div>
      <div class="form-group">
        <label for="dose">Dopamin Dozu (mcg/kg/dk):</label>
        <h5><i><small></small></i>Not: Dopamin dozu 2-20 mcg/kg/dk</small></i></h5>
        <input type="number" class="form-control" id="dose" min="2" max="20" required>
      </div>
      <div class="form-group">
        <label for="fluidVolume">Kullanılan Mayii Miktarı (NaCl):</label>
        <select class="form-control" id="fluidVolume" required>
          <option value="105">100cc NaCl (Toplam 105 ml)</option>
          <option value="505">500cc NaCl (Toplam 505 ml)</option>
          <option value="1005">1000cc NaCl (Toplam 1005 ml)</option>
        </select>
      </div>
      <button type="button" class="btn btn-primary" onclick="calculateInfusion()">Hesapla</button>
      <button type="reset" class="btn btn-secondary" id="resetBtn">Sıfırla</button>
    </form>
    <hr>
    <h4>Sonuçlar:</h4>
    <p id="resultCcMin">İnfüzyon Hızı: <strong>0 cc/dk</strong></p>
    <p id="resultDropsMin">İnfüzyon Hızı: <strong>0 damla/dk</strong></p>
  </div>

  <script>
    function calculateInfusion() {
      const weight = parseFloat(document.getElementById('weight').value);
      const dose = parseFloat(document.getElementById('dose').value);
      const fluidVolume = parseFloat(document.getElementById('fluidVolume').value);

      const dopamineConcentration = 200; // 1 ampul dopamin 200 mg / 5 ml
      const ampouleVolume = 5; // 1 ampul 5 ml
      const dopamineInMgPerMl = dopamineConcentration / ampouleVolume; // Dopaminin mg/ml oranı
      
      // Dozu mcg/dk'ya çevir
      const doseMcgMin = dose * weight; // mcg/kg/dk * kilo = toplam mcg/dk
      const doseMgMin = doseMcgMin / 1000; // mcg'yi mg'ye çevir

      // NaCl başına mg dopamin miktarı
      const dopaminePerMlNaCl = dopamineInMgPerMl / fluidVolume;

      // cc/dk cinsinden infüzyon hızı
      const ccPerMin = doseMgMin / dopaminePerMlNaCl;

      // damla/dk cinsinden infüzyon hızı (1 cc = 20 damla)
      const dropsPerMin = ccPerMin * 20;

      // Sonuçları güncelle
      document.getElementById('resultCcMin').innerHTML = `İnfüzyon Hızı: <strong>${ccPerMin.toFixed(2)} cc/dk</strong>`;
      document.getElementById('resultDropsMin').innerHTML = `İnfüzyon Hızı: <strong>${dropsPerMin.toFixed(2)} damla/dk</strong>`;
    }
  </script>
</body>
</html>
